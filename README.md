# Introduction 
This is an automation framework template written in Java which can be used as entry point for creating automated testcases.

The framework allows you to write tests that are easy to maintain and provide tests examples.

# Test Examples
Examples of different types of tests can be found in `src/test/java/com/volvo/project/tests`

# Test Framework Parameters
Framework has 6 execution parameters:
- `browser` - which browser should be used
- `headless` - if browser should be started in headless mode
- `docker` - if docker grid should be used
- `proxy` - if proxy should be used for webdrivermanager
- `resolutionWidth` - browser resolution width
- `resolutionHeight` - browser resolution height

By default, these parameters are taken from file `src/test/resources/properties/default.properties`.

File from which parameters are taken can be changed. Properties file name can be overwritten by environment variable or 
maven command parameter `propertiesFileName`. For example if tests will be started with command:

`mvn clean test -DpropertiesFileName="local.properties"`

then parameters will be taken from `src/test/resources/properties/local.properties`.

It is helpful to create file `local.properties` locally in `src/test/resources/properties/` and set environment variable 
`propertiesFileName = local.properties`. Then parameters for running tests locally can be changed in this file. 
This file is added to `.gitignore` file, so any change won't be committed to git.

Properties can be overwritten also by maven command parameters, for example tests can be started with command:

`mvn clean test -Dbrowser=firefox -Ddocker=true`

and then Firefox browser in docker selenium grid will be used (properties from file will be overwritten by parameters from maven command).

# Executing tests
Tests can be started by maven command `mvn clean test`. 

Tests are organized into test suites which are in `src/test/resources/testsuites/` folder. By default test suite `testng.xml`
from main project folder is started. To start other test suite, you can use maven profiles. For example if such commmand will be used:

`mvn clean test -P smoke`

then test suite `src/test/resources/testsuites/smoke.xml` will be executed. All maven profiles can be found in `pom.xml` 
file in main project folder.

# Generating report
Allure is used for reporting purposes. After tests execution results are generated into `target/allure-results` folder. 
You can generate Allure report from these results by commands:

- `mvn allure:serve`

Report will be generated into temp folder. Web server with results will start.

- `mvn allure:report`

Report will be generated t–æ directory: `target/site/allure-maven/index.html`

# Azure pipeline build

Framework contains example of Azure Devops Pipeline defined in `azure-pipelinesCloud.yml` file. This pipeline is doing few things:

- Checkout repository
- Execute tests - test are executed by maven command
- Generate allure report - report is generated by maven command
- Publish allure report - add report to zip file and publish it as build artifact
- Publish test results to test plan - results are added to Azure Test Plans using solidify extension

After the build allure report can be downloaded from build artifacts. Report is in zip file. To see report extract this zip
file to folder and execute `allure open .` command in extracted folder.